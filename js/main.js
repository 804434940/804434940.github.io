!function(a){function i(){var i=a(".navbar-main .navbar-start").outerWidth()+a(".navbar-main .navbar-end").outerWidth();a(document).outerWidth()<i?a(".navbar-main .navbar-menu").addClass("is-flex-start"):a(".navbar-main .navbar-menu").removeClass("is-flex-start")}if(a('.article img:not(".not-gallery-item")').each(function(){0===a(this).parent("a").length&&(a(this).wrap('<a class="gallery-item" href="'+a(this).attr("src")+'"></a>'),this.alt&&a(this).after('<div class="has-text-centered is-size-6 has-text-grey caption">'+this.alt+"</div>"))}),"function"==typeof moment&&a(".article-meta time").each(function(){a(this).text(moment(a(this).attr("datetime")).fromNow())}),a(".article > .content > table").each(function(){a(this).width()>a(this).parent().width()&&a(this).wrap('<div class="table-overflow"></div>')}),i(),a(window).resize(i),a("figure.highlight table").wrap('<div class="highlight-body">'),"undefined"!=typeof IcarusThemeSettings&&void 0!==IcarusThemeSettings.article&&void 0!==IcarusThemeSettings.article.highlight){a("figure.highlight").addClass("hljs"),a("figure.highlight .code .line span").each(function(){var i=a(this).attr("class").split(/\s+/);1===i.length&&(a(this).addClass("hljs-"+i[0]),a(this).removeClass(i[0]))}),"undefined"!=typeof ClipboardJS&&IcarusThemeSettings.article.highlight.clipboard&&(a("figure.highlight").each(function(){var i="code-"+Date.now()+(1e3*Math.random()|0),t='<a href="javascript:;" class="copy" title="Copy" data-clipboard-target="#'+i+' .code"><i class="fas fa-copy"></i></a>';a(this).attr("id",i),a(this).find("figcaption").length?a(this).find("figcaption").prepend(t):a(this).prepend("<figcaption>"+t+"</figcaption>")}),new ClipboardJS(".highlight .copy"));var t=IcarusThemeSettings.article.highlight.fold;if(t.trim()){function e(i,t){var e=a(i).find(".fold i");t?a(i).addClass("folded"):a(i).removeClass("folded"),t?e.removeClass("fa-angle-down"):e.removeClass("fa-angle-right"),t?e.addClass("fa-angle-right"):e.addClass("fa-angle-down")}var n='<span class="fold">'+("unfolded"===t?'<i class="fas fa-angle-down"></i>':'<i class="fas fa-angle-right"></i>')+"</span>";a("figure.highlight").each(function(){if(a(this).find("figcaption").length){if(0<a(this).find("figcaption").find("span").length){var i=a(this).find("figcaption").find("span");if(-1<i[0].innerText.indexOf(">folded"))return i[0].innerText=i[0].innerText.replace(">folded",""),n='<span class="fold"><i class="fas fa-angle-right"></i></span>',a(this).find("figcaption").prepend(n),void e(this,!0)}a(this).find("figcaption").prepend(n)}else a(this).prepend("<figcaption>"+n+"</figcaption>");e(this,"folded"===t)}),a("figure.highlight figcaption .fold").click(function(){var i=a(this).closest("figure.highlight");e(i.eq(0),!i.hasClass("folded"))})}}var s=a("#toc");if(0<s.length){function r(){s.toggleClass("is-active"),l.toggleClass("is-active")}var l=a("<div>");l.attr("id","toc-mask"),a("body").append(l),s.on("click",r),l.on("click",r),a(".navbar-main .catalogue").on("click",r)}"undefined"!=typeof IcarusThemeSettings&&void 0!==IcarusThemeSettings.site.url&&void 0!==IcarusThemeSettings.site.external_link&&IcarusThemeSettings.site.external_link.enable&&a(".article .content a").filter(function(i,t){return t.href&&!a(t).attr("href").startsWith("#")&&0===t.classList.length&&function(i,t,e){try{t=new URL(t).hostname}catch(i){}if(!t)return!1;var a=new URL(i,"http://"+t);if("null"===a.origin)return!1;var n=a.hostname;if((e=e&&(Array.isArray(e)?e:[e]))&&e.length){var s=!0,r=!1,l=void 0;try{for(var h,o=e[Symbol.iterator]();!(s=(h=o.next()).done);s=!0){if(n===h.value)return!1}}catch(i){r=!0,l=i}finally{try{!s&&o.return&&o.return()}finally{if(r)throw l}}}return n!==t}(t.href,IcarusThemeSettings.site.url,IcarusThemeSettings.site.external_link.exclude)}).each(function(i,t){t.relList.add("noopener"),t.target="_blank"})}(jQuery);